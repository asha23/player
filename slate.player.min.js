if("undefined"===typeof jQuery)throw Error("Slate Embedded Player SDK requires jQuery");
!function(c,f,k,e){function g(a){var b=k.createElement("a");b.href=a;return b.protocol+"//"+b.host}function h(a){var b=c.data(a[0],"slatePlayer");b||(b=new j(a),c.data(a[0],"slatePlayer",b));return b}var j=function(a){var b=this;this.$el=a;f.addEventListener("message",function(a){if(a.origin===b.originAddress){var c=a.data.name,e=a.data.data;a=a.data.token;null===b.handshakeToken||(!a||b.handshakeToken!==a)||b._trigger(c,e)}})};j.prototype={handshakeToken:null,originAddress:null,handshake:function(a){if(null!==
this.handshakeToken||!a)throw"Cannot change a player's handshake token or unset it!";this.handshakeToken=a},origin:function(a){if(null!==this.originAddress||!a)throw"Cannot change a player's origin or unset it!";this.originAddress=g(a)},_call:function(a,b){if("handshake"===a||"origin"===a)return this[a].apply(this,b);if(!this.handshakeToken||!this.originAddress)throw"Handshake needs to be established between the iframe and the current page in order to call player's methods.";var c=this.$el[0].contentWindow;
if(!c)throw"Could not get the player's iframe window!";c.postMessage({action:"call",method:a,args:b||[],handshake:this.handshakeToken},this.originAddress)},_trigger:function(a,b){this.$el.trigger(a,b||[])}};c.fn.slatePlayer=function(a){if("string"===typeof a&&"_"!==a.charAt(0)){var b=Array.prototype.slice.call(arguments,1),d=null;this.each(function(){var f=h(c(this));try{d=f._call(a,b)}catch(g){}if(null!==d&&d!==e)return!1});return null!==d&&d!==e?d:this}return this.each(function(){h(c(this))})};
f.addEventListener("message",function(a){a.data&&(a.data.name&&"handshake"===a.data.name&&a.data.token!==e)&&c("iframe").each(function(){if(this.contentWindow===a.source&&a.origin===g(this.src))return c(this).slatePlayer("handshake",a.data.token).slatePlayer("origin",this.src),!1})},!1)}(jQuery,window,document);
